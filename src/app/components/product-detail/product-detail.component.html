<div class="container">
  <div class="row justify-content-center align-items-center">
    <div *ngIf="loading" class="loading-indicator">
      <h2>Yükleniyor...</h2>
    </div>
  </div>
</div>

<mat-card class="card-detail card-body" appearance="outlined">
  <img mat-card-xl-image  [src]="product?.images" [alt]="product?.title">
  <mat-card-content>
    <mat-card-header>
      <mat-card-title-group>
        <mat-card-title>{{product?.title}}</mat-card-title>
        <mat-card-subtitle>Ürün Puanı: {{product?.rating}}</mat-card-subtitle>
      </mat-card-title-group>
      <mat-card-title-group class="justify-content-end">
        <mat-card-title><span class="fs-6 text-secondary text-decoration-line-through pe-3 fw-light">{{product?.price}} TL</span></mat-card-title>
        <mat-card-title> <span  class="fs-5">{{product?.discountPercentage}} TL</span></mat-card-title>
      </mat-card-title-group>

    </mat-card-header>
    <p class="p-3">{{product?.description}}</p>
    <mat-card-actions class="mt-4 justify-content-start">
      <mat-card-actions class="mt-4 justify-content-start">
        <button *ngIf="product"
                (click)="isProductInCart(product.id) ? removeItem(product.id) : addToCart(product)"
                mat-fab extended>
          <mat-icon>shopping_cart</mat-icon>
          {{ isProductInCart(product.id) ? 'Sepetten Çıkar' : 'Sepete Ekle' }}
        </button>
      </mat-card-actions>
    </mat-card-actions>
  </mat-card-content>
</mat-card>


<div class="container py-5">
  <div class="row">
    <h1 class="border-bottom pb-3"><strong>Benzer Ürünler</strong></h1>
  </div>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">

    <mat-card class="text-center"  *ngFor="let product of relatedProducts">
      <img mat-card-image [src]="product.images" [alt]="product.title">
      <mat-card-content>
        <mat-card-title class="mb-3 fs-6">
          <a [routerLink]='"/product-single/" + product.id'>{{ product.title }}</a>
        </mat-card-title>
        <span class="fs-6 text-secondary text-decoration-line-through pe-3 fw-light">{{ product.price}} TL</span>
        <span  class="fs-5">{{ product.discountPercentage }} TL</span>
        <mat-card-actions class="mt-5">
          <button (click)="isProductInCart(product.id) ? removeItem(product.id) : addToCart(product)" mat-fab extended>
            <mat-icon>shopping_cart</mat-icon>  {{ isProductInCart(product.id) ? 'Sepetten Çıkar' : 'Sepete Ekle' }}
          </button>
        </mat-card-actions>
      </mat-card-content>
    </mat-card>


  </div>
</div>

